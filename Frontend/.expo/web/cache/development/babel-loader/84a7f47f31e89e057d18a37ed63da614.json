{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/mnt/c/Users/Hussein/Desktop/Programs/POOS/Large Project/AssetLabs/screens/LoginScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport BackButton from \"../components/BackButton\";\nimport Colors from \"../components/Colors\";\nglobal.localName = '';\nglobal.password = '';\nglobal.userId = -1;\nglobal.firstName = '';\nglobal.lastName = '';\nglobal.search = '';\n\nvar LoginScreen = function (_React$Component) {\n  _inherits(LoginScreen, _React$Component);\n\n  var _super = _createSuper(LoginScreen);\n\n  function LoginScreen() {\n    var _this;\n\n    _classCallCheck(this, LoginScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.back = function () {\n      navigation.pop();\n    };\n\n    _this.forgotPass = function () {\n      navigation.push('ForgotPasswordScreen');\n    };\n\n    _this.registerPress = function () {\n      navigation.push('RegisterScreen');\n    };\n\n    _this.loginPress = function () {\n      navigation.push('DashboardScreen');\n    };\n\n    _this.changeLoginInfoHandler = function _callee(val) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              global.loginInfo = val;\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.changePasswordHandler = function _callee2(val) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              global.password = val;\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleLogin = function _callee3() {\n      var obj, js, response, res;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              obj = {\n                login: global.loginInfo.trim(),\n                password: global.password.trim()\n              };\n              js = JSON.stringify(obj);\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(fetch('https://cop-4331-16.herokuapp.com//api/login', {\n                method: 'POST',\n                body: js,\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              }));\n\n            case 5:\n              response = _context3.sent;\n              _context3.t0 = JSON;\n              _context3.next = 9;\n              return _regeneratorRuntime.awrap(response.text());\n\n            case 9:\n              _context3.t1 = _context3.sent;\n              res = _context3.t0.parse.call(_context3.t0, _context3.t1);\n\n              if (res.id <= 0) {\n                _this.setState({\n                  message: \"Login Info/Password combination incorrect\"\n                });\n              } else {\n                global.firstName = res.firstName;\n                global.lastName = res.lastName;\n                global.userId = res.id;\n                loginPress();\n              }\n\n              _context3.next = 17;\n              break;\n\n            case 14:\n              _context3.prev = 14;\n              _context3.t2 = _context3[\"catch\"](0);\n\n              _this.setState({\n                message: _context3.t2.message\n              });\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 14]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ImageBackground, {\n        source: require(\"../img/MainBackground.jpg\"),\n        style: styles.background,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.back,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.backContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, React.createElement(BackButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }))), React.createElement(View, {\n        style: styles.titleContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.titleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, \"Let's sign you in.\")), React.createElement(View, {\n        style: styles.subtitleContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.subtitleText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, \"Welcome back.\", \"\\n\", \"You've been missed!\")), React.createElement(View, {\n        style: styles.inputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        style: styles.placeHolder,\n        placeholder: \"Phone, email, or username\",\n        placeholderTextColor: \"silver\",\n        onChangeText: function onChangeText(val) {\n          _this2.changeLoginInfoHandler(val);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.placeHolder,\n        placeholder: \"Password\",\n        placeholderTextColor: \"silver\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(val) {\n          _this2.changePasswordHandler(val);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }), React.createElement(TouchableOpacity, {\n        onPress: this.forgotPass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.forgotPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, \"Forgot my password?\"))), React.createElement(TouchableOpacity, {\n        onPress: this.registerPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.newUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, \"Don't have an account?\", React.createElement(Text, {\n        style: styles.registerText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, \" \", \"Register\")))), React.createElement(TouchableOpacity, {\n        onPress: this.handleLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.buttomButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.loginButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.loginText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      }, \"Sign In\"))))));\n    }\n  }]);\n\n  return LoginScreen;\n}(React.Component);\n\n;\nvar styles = StyleSheet.create({\n  background: {\n    flex: 1\n  },\n  titleText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 48,\n    fontWeight: 'bold',\n    color: 'white'\n  },\n  titleContainer: {\n    paddingLeft: 25,\n    paddingTop: 5\n  },\n  subtitleText: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 36,\n    color: 'white'\n  },\n  subtitleContainer: {\n    paddingLeft: 25,\n    paddingTop: 5\n  },\n  backContainer: {\n    paddingLeft: 25,\n    paddingTop: 30\n  },\n  inputContainer: {\n    flex: 1,\n    alignItems: 'center',\n    paddingTop: 60\n  },\n  placeHolder: {\n    height: 45,\n    width: 317,\n    borderColor: 'silver',\n    borderRadius: 14,\n    borderWidth: 1,\n    backgroundColor: Colors.grey,\n    marginBottom: 20,\n    color: 'silver',\n    paddingLeft: 20\n  },\n  loginButton: {\n    height: 45,\n    width: 317,\n    borderRadius: 14,\n    paddingVertical: 12,\n    paddingHorizontal: 10,\n    backgroundColor: 'white'\n  },\n  loginText: {\n    color: 'black',\n    fontSize: 17,\n    flexDirection: 'row',\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center'\n  },\n  buttomButton: {\n    paddingTop: 15\n  },\n  text: {\n    color: 'silver',\n    fontSize: 14,\n    flexDirection: 'row',\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center'\n  },\n  forgotPress: {\n    paddingTop: 240,\n    paddingBottom: 4\n  },\n  newUser: {\n    paddingBottom: 2\n  },\n  registerText: {\n    color: 'white',\n    fontSize: 14,\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center'\n  }\n});\nexport default LoginScreen;","map":{"version":3,"sources":["/mnt/c/Users/Hussein/Desktop/Programs/POOS/Large Project/AssetLabs/screens/LoginScreen.js"],"names":["React","useState","BackButton","Colors","global","localName","password","userId","firstName","lastName","search","LoginScreen","back","navigation","pop","forgotPass","push","registerPress","loginPress","changeLoginInfoHandler","val","loginInfo","changePasswordHandler","handleLogin","obj","login","trim","js","JSON","stringify","fetch","method","body","headers","response","text","res","parse","id","setState","message","require","styles","background","backContainer","titleContainer","titleText","subtitleContainer","subtitleText","inputContainer","placeHolder","forgotPress","newUser","registerText","buttomButton","loginButton","loginText","Component","StyleSheet","create","flex","justifyContent","alignItems","fontSize","fontWeight","color","paddingLeft","paddingTop","height","width","borderColor","borderRadius","borderWidth","backgroundColor","grey","marginBottom","paddingVertical","paddingHorizontal","flexDirection","textAlign","alignSelf","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Text, View, StyleSheet,\r\n         ImageBackground,\r\n         TouchableOpacity, TextInput} from 'react-native';\r\n\r\nimport BackButton from '../components/BackButton';\r\nimport Colors from '../components/Colors';\r\n\r\nglobal.localName = '';\r\nglobal.password = '';\r\nglobal.userId = -1;\r\nglobal.firstName = '';\r\nglobal.lastName = '';\r\nglobal.search = '';\r\n\r\nclass LoginScreen extends React.Component /*= ({navigation}) =>*/ {\r\n  back = () => {\r\n    navigation.pop();\r\n  };\r\n\r\n  forgotPass = () => {\r\n    navigation.push('ForgotPasswordScreen');\r\n  };\r\n\r\n   registerPress = () => {\r\n    navigation.push('RegisterScreen');\r\n  };\r\n\r\n   loginPress = () => {\r\n    navigation.push('DashboardScreen');\r\n  }\r\n\r\n   changeLoginInfoHandler = async (val) => \r\n  {\r\n    global.loginInfo = val;\r\n  }; \r\n\r\n   changePasswordHandler = async (val) => \r\n  {\r\n    global.password = val;\r\n  }; \r\n\r\n   handleLogin = async () =>\r\n  {\r\n    try\r\n    {\r\n      var obj = {login:global.loginInfo.trim(),password:global.password.trim()};\r\n      var js = JSON.stringify(obj);\r\n\r\n      const response = await fetch('https://cop-4331-16.herokuapp.com//api/login',\r\n        {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\r\n\r\n      var res = JSON.parse(await response.text());\r\n\r\n      if( res.id <= 0 )\r\n      {\r\n        this.setState({message: \"Login Info/Password combination incorrect\" });\r\n      }\r\n      else\r\n      {\r\n        global.firstName = res.firstName;\r\n        global.lastName = res.lastName;\r\n        global.userId = res.id;\r\n        loginPress();\r\n      }\r\n    }\r\n    catch(e)\r\n    {\r\n      this.setState({message: e.message });\r\n    }\r\n  };\r\n\r\n  render() {\r\n  return (\r\n    <ImageBackground source={require('../img/MainBackground.jpg')}\r\n                      style={styles.background}>\r\n      <TouchableOpacity onPress={this.back}>\r\n        <View style={styles.backContainer}>\r\n          <BackButton></BackButton>\r\n        </View>\r\n      </TouchableOpacity>\r\n      <View style={styles.titleContainer}>\r\n        <Text style={styles.titleText}>\r\n          Let's sign you in.\r\n        </Text>\r\n      </View>\r\n      <View style={styles.subtitleContainer}>\r\n        <Text style={styles.subtitleText}>\r\n          Welcome back.{\"\\n\"}\r\n          You've been missed!\r\n        </Text>\r\n      </View>\r\n      <View style={styles.inputContainer}>\r\n        <TextInput style={styles.placeHolder} \r\n          placeholder=\"Phone, email, or username\"\r\n          placeholderTextColor='silver'\r\n          onChangeText={(val) => {this.changeLoginInfoHandler(val)}}\r\n        />\r\n        <TextInput style={styles.placeHolder} \r\n          placeholder=\"Password\"\r\n          placeholderTextColor='silver'\r\n          secureTextEntry={true}\r\n          onChangeText={(val) => {this.changePasswordHandler(val)}}\r\n        />\r\n        <TouchableOpacity onPress={this.forgotPass}>\r\n          <View style={styles.forgotPress}>\r\n            <Text style={styles.text}>\r\n              Forgot my password?\r\n            </Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={this.registerPress}>\r\n          <View style={styles.newUser}>\r\n            <Text style={styles.text}>\r\n              Don't have an account? \r\n              <Text style={styles.registerText}>\r\n                {\" \"}Register\r\n              </Text>\r\n            </Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={this.handleLogin}>\r\n          <View style={styles.buttomButton}>\r\n            <View style={styles.loginButton}>\r\n              <Text style={styles.loginText}>Sign In</Text>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </ImageBackground>\r\n  );\r\n  }\r\n\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  background: {\r\n    flex: 1,\r\n  },\r\n  titleText: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    fontSize: 48,\r\n    fontWeight: 'bold',\r\n    color: 'white'\r\n  },\r\n  titleContainer: {\r\n    paddingLeft: 25,\r\n    paddingTop: 5\r\n  },\r\n  subtitleText: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    fontSize: 36,\r\n    color: 'white'\r\n  },\r\n  subtitleContainer: {\r\n    paddingLeft: 25,\r\n    paddingTop: 5\r\n  },\r\n  backContainer: {\r\n    paddingLeft: 25,\r\n    paddingTop: 30\r\n  },\r\n  inputContainer:{\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    paddingTop: 60,\r\n  },\r\n  placeHolder: {\r\n    height: 45, \r\n    width: 317, \r\n    borderColor: 'silver', \r\n    borderRadius: 14, \r\n    borderWidth: 1,  \r\n    backgroundColor: Colors.grey,\r\n    marginBottom: 20, color: 'silver',\r\n    paddingLeft: 20\r\n  },\r\n  loginButton: {\r\n    height: 45,\r\n    width: 317,\r\n    borderRadius: 14,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 10,\r\n    backgroundColor: 'white',\r\n  },\r\n  loginText: { \r\n    color: 'black',\r\n    fontSize: 17,\r\n    flexDirection: 'row',\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center', \r\n  },\r\n  buttomButton: {\r\n    paddingTop: 15\r\n  },\r\n  text: { \r\n    color: 'silver',\r\n    fontSize: 14,\r\n    flexDirection: 'row',\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center', \r\n  },\r\n  forgotPress: {\r\n    paddingTop: 240,\r\n    paddingBottom: 4,\r\n  },\r\n  newUser: {\r\n    paddingBottom: 2,\r\n  },\r\n  registerText: {\r\n    color: 'white',\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center',\r\n  }\r\n});\r\n\r\nexport default LoginScreen;\r\n"]},"metadata":{},"sourceType":"module"}